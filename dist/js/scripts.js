let pokemonRepository=function(){let t=[];$(".navbar-brand").on("click",function(){$("html, body").animate({scrollTop:0},300)});let e,n,o,a,i,d,r,l,s;function p(){return t}function c(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):alert("Invalid Pokemon")}function u(t){return h(),fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types,f()}).catch(function(t){console.error(t),f()})}function m(t){$("#modalContainer").attr("aria-labelledby",t.name),$(".modal-header > h2").text(t.name),$(".modal-body > p").text("Height: "+t.height),$(".modal-body > img").attr("src",t.imageUrl)}function h(){console.log("Loading");let t=document.createElement("h2"),e=document.querySelector("body");t.innerText="Loading.......",e.appendChild(t)}function f(){document.querySelector("body > h2").remove()}return e=$("#modalContainer"),n=$("<div></div>").addClass("modal-dialog").attr("role","document"),o=$("<div></div>").addClass("modal-content container"),a=$("<div></div>").addClass("modal-header row bg-dark "),i=$("<div></div>").addClass("modal-body row"),(d=$("<button></button>").addClass("close text-white").attr("data-dismiss","modal").attr("aria-label","Close")).text("X"),r=$("<h2></h2>").addClass("bg-dark text-white"),l=$('<p class="col-12 text-center">Height: </p>'),s=$('<img class="col text-center">'),a.append(r),a.append(d),i.append(l),i.append(s),o.append(a),o.append(i),n.append(o),e.append(n),$("#sub").on("click",function(e){let n=$("input").val().toLowerCase();for(let o of(e.preventDefault(),t))if(n===o.name.toLowerCase()){$("#modalContainer").modal("show"),m(o);return}alert("Please enter a valid pokemon name")}),{getAll:p,add:c,addListItem:function t(e){let n=$(".list-group"),o=$("<li></li>").addClass("list-group-item"),a=$("<button></button>").attr("data-target","#modalContainer").attr("data-toggle","modal").attr("type","button");a.text(e.name),a.addClass("btn btn-primary"),o.append(a),n.append(o),function t(e,n){e.on("click",function(){m(n)})}(a,e)},loadList:function t(){return h(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){let e=t.name,n={name:e=e.charAt(0).toUpperCase()+e.slice(1),detailsUrl:t.url};c(n),u(n)}),f()}).catch(function(t){console.error(t),f()})},loadDetails:u,showDetails:m}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(t=>{pokemonRepository.addListItem(t)})});